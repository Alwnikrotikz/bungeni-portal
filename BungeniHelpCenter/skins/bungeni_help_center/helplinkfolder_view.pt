<metal:master define-macro="master">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  lang="en"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="plonehelpcenter">

  <head>
    <metal:block fill-slot="css_slot">
      <style type="text/css">
#nav, #nav ul { /* all lists */
padding: 0;
margin: 0;
list-style: none;
line-height: 1;
}

#nav a {
display: block;
width: 1em;
}

#nav li { /* all list items */
float: left;
width: 2.5em; /* width needed or else Opera goes nuts */
}

#nav li ul { /* second-level lists */
padding-top:1em;
position: absolute;
width: 2.5em;
left: -999em;
}

#nav li:hover ul, #nav li.sfhover ul { /* lists nested under hovered
list items */
left: auto;
}
       </style>
    </metal:block>
    <metal:block fill-slot="javascript_head_slot">
<script type="text/javascript"><!--//--><![CDATA[//><!--

sfHover = function() {
var sfEls = document.getElementById("nav").getElementsByTagName("LI");
for (var i=0; i<sfEls.length; i++) {
sfEls[i].onmouseover=function() {
this.className+=" sfhover";
}
sfEls[i].onmouseout=function() {
this.className=this.className.replace(new RegExp(" sfhover\\b"), "");
}
}
}
if (window.attachEvent) window.attachEvent("onload", sfHover);

//--><!]]></script>
    </metal:block>    

  </head>

  <body>
    <div metal:fill-slot="main">
    <div metal:define-macro="main"
         tal:define="sections here/getItemsBySections;
                     noSections python:len(sections) == 1">

    <div metal:use-macro="here/document_actions/macros/document_actions">
      Document actions (print, sendto etc)
    </div>

    <h1 tal:content="here/Title" class="documentFirstHeading">
      Folder Title
    </h1>

    <div metal:use-macro="here/phc_macros/macros/identityimage">
      Identity Image 
    </div>
    
    <table class="sectionIndex" tal:condition="not:noSections">
        <thead>
            <tr><th i18n:translate="phc_index_sections">Sections</th></tr>
        </thead>
        <tbody>
            <tr tal:repeat="section sections">
                <td><a tal:attributes="href python:'%s#%s'% (here.absolute_url(), section['id'],)"
                       tal:content="section/section" i18n:translate="">Section</a>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="documentDescription"
         tal:content="here/Description">
      Description.
    </div>

    <div class="documentBody"
      tal:condition="here/getBody"
      tal:content="structure here/getBody">
      Description
    </div>

   <tal:define define="results
         python:here.alphabetise()">
   <ul id="nav">
     <span tal:omit-tag="" tal:repeat="item results">
      <li tal:condition="python:not item['items']"
      tal:content="item/letter" />
      <li tal:condition="python:item['items']"><a href="#" tal:attributes="href python:'#alpha' + item['letter']" tal:content="item/letter" />
      <ul>
          <li tal:repeat="definition python:item['items']"><a href="" tal:attributes="href definition/getURL" tal:content="definition/Title"></a></li>
      </ul>
      </li>
      </span>
   </ul>
   <br/>
   <br/>

   <span tal:omit-tag="" tal:repeat="item results">
     <span tal:omit-tag="" tal:condition="python:item['items']">  
      
     <div><b tal:attributes="id python:'alpha'+item['letter']"
           tal:content="item/letter"></b>
        <ul>
          <span tal:omit-tag="" tal:repeat="definition python:item['items']">
            <li><a href="" tal:attributes="href definition/getURL" tal:content="definition/Title"></a></li>
          </span>
        </ul>
        <div style="float:right; text-align: center; margin: 1em 0 1em 1em;">
         [<a href="#portal-top">Back</a>]
        </div>
        
        
     </div>
     </span>
   </span>
   
   </tal:define>

    <div tal:repeat="section sections">

        <h2 tal:condition="not:noSections">
          <a class="link-anchor" 
              tal:content="section/section"
	      i18n:translate=""
              tal:attributes="name section/id;
                              href string:${here/absolute_url}#${section/id};">
              Section Heading
            </a>
        </h2>

        <dl>
            <tal:item tal:repeat="item python:section['items']">
              
            <dt>
                <img metal:define-slot="item_icon" 
                     tal:replace="structure here/helplink_icon.gif"/>
                <a href="" tal:content="item/Title"
                   tal:attributes="href item/getURL;
                                   class string:state-${item/review_state}">Item</a>
                <img src="error_icon.gif" alt="!" class="outdatedMarker"
                     tal:condition="item/isOutdated"
                     title="This item applies to a previous version" 
                     i18n:attributes="title"/>
            </dt>
            
            <dd tal:content="item/Description">Description</dd>
          </tal:item>
        </dl>

    </div>
    <div metal:use-macro="here/helpcenter_references/macros/view_referenced_items">
      see also - shows the references if this feature is switched on
    </div>
    <div metal:use-macro="here/document_byline/macros/byline">
      Get the byline - contains details about author and modification date.
    </div>
    </div>
    </div>
  </body>

</html>
</metal:master>
