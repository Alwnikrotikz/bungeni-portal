Question workflow
=================

  >>> from bungeni.core.domain import Question

Setup
-----

  >>> import bungeni.core.workflows.question
  >>> import bungeni.core.interfaces
  >>> import ore.workflow
  
  >>> component.provideAdapter(
  ...    bungeni.core.workflows.WorkflowState,
  ...    (bungeni.core.interfaces.IBungeniContent,))

  >>> component.provideAdapter(
  ...    bungeni.core.workflows.question.QuestionWorkflowAdapter,
  ...    (Question,))

  >>> component.provideAdapter(
  ...    ore.workflow.workflow.WorkflowInfo,
  ...    (Question,))

Workflow
--------

  >>> from ore.workflow.interfaces import IWorkflow, IWorkflowInfo

  >>> def transitions(question):
  ...     wf = IWorkflow(question)
  ...     info = IWorkflowInfo(question)
  ...     state = info.state().getState()
  ...     return tuple(transition.transition_id for transition in wf.getTransitions(state))

    >>> question = Question()

Initialization:
  
  >>> transitions(question)
  ('create',)

  >>> IWorkflowInfo(question).fireTransition('create')

Draft:

  >>> transitions(question)
  ('submit-to-clerk',)

  >>> IWorkflowInfo(question).fireTransition('submit-to-clerk')

Submitted:

  >>> transitions(question)
  ('received-by-clerk',)

  >>> IWorkflowInfo(question).fireTransition('received-by-clerk')

Received:

  >>> transitions(question)
  ()
